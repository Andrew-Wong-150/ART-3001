<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Thompson Library</title>
  <link rel="stylesheet" href="style.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js"></script>
</head>

<body>
  <div id='button'>
      <img id='sound' src='src/sound.gif'></img>
  </div>
  <div id='top'></div>
    <img id='image' src=''></img>
  <div id='bottom'>
    <a href='Home Page.html' id='back'>Go Back</a>
    <h1 style="margin-top: 300px;">
      The best place to sit and work. Just the right amount of ambient noise.
      If I am lucky, there won't be anybody in my favorite spot on the third floor.
      I really need to focus, my physics final is next week and I would perfer not
      having to retake the class. All I need is an easy 115% to end with an A...
    </h1>
  </div>

  <script>

    /*animation to explode bubble*/
    var explode = anime({
      targets: '#button',
      scale: [1, 10],
      translateZ: 0,
      duration: 500,
      easing: 'easeOutSine',
      autoplay: false
    })

    /*function to display and destroy image*/
    var audio_on = false;
    var audio = new Audio('src/Thompson Library.mp3');

    function audio_toggle () {
      if(!audio_on) {
        console.log('hello');
        audio.play();
        audio_on = true;
      }
      else {
        console.log('goodbye');
        audio.pause();
        audio_on = false;
      }
    }

    /*function to toggle bubble*/
    function toggle() {

      if (explode.began) {
        explode.reverse()
      }

      if(explode.progress == 100 && explode.direction === 'reverse'){
          explode.completed = false;
      }

      if (explode.paused) {
        explode.play()
      }
    }

    document.body.addEventListener('mousedown', toggle)
    document.body.addEventListener("click", audio_toggle);
    audio.addEventListener('ended', function() {
      this.currentTime = 0;
      this.play();
    }, false);

  </script>
</body>
</html>
